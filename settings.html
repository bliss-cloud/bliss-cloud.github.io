<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    
</head>
<body>
    <main>
    <h2>Settings</h2>
<div>
        <label for="tab-name">Tab Name:</label>
        <input type="text" id="tab-name" placeholder="Enter tab name" />
    </div>
    <div>
        <label for="favicon">Favicon URL:</label>
        <input type="text" id="favicon" placeholder="Enter favicon URL" />
    </div>
    
    <!-- Panic Key Section -->
    <div>
        <label for="panic-key">Panic Key:</label>
        <input type="text" id="panic-key" placeholder="Enter panic key" />
    </div>
    <div>
        <label for="panic-url">Panic URL:</label>
        <input type="text" id="panic-url" placeholder="Enter panic URL" />
    </div>
    
    <!-- Submit Button to Save Settings -->
    <button id="submit-settings">Save Settings</button>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Load saved settings from localStorage
            const tabName = localStorage.getItem('tabName');
            const faviconUrl = localStorage.getItem('faviconUrl');
            const panicKey = localStorage.getItem('panicKey');
            const panicUrl = localStorage.getItem('panicUrl');

            // Set saved values to input fields
            if (tabName) {
                document.getElementById('tab-name').value = tabName;
            }

            if (faviconUrl) {
                document.getElementById('favicon').value = faviconUrl;
            }

            if (panicKey) {
                document.getElementById('panic-key').value = panicKey;
            }

            if (panicUrl) {
                document.getElementById('panic-url').value = panicUrl;
            }

            // Submit button to save settings to localStorage
            document.getElementById('submit-settings').addEventListener('click', function () {
                // Get values from input fields
                const tabNameValue = document.getElementById('tab-name').value;
                const faviconValue = document.getElementById('favicon').value;
                const panicKeyValue = document.getElementById('panic-key').value;
                const panicUrlValue = document.getElementById('panic-url').value;

                // Save values to localStorage
                localStorage.setItem('tabName', tabNameValue);
                localStorage.setItem('faviconUrl', faviconValue);
                localStorage.setItem('panicKey', panicKeyValue);
                localStorage.setItem('panicUrl', panicUrlValue);

                // Apply the Tab Cloak settings immediately
                document.title = tabNameValue;
                const link = document.querySelector("link[rel*='icon']");
                if (link) {
                    link.href = faviconValue;
                } else {
                    const link = document.createElement('link');
                    link.rel = 'icon';
                    link.href = faviconValue;
                    document.head.appendChild(link);
                }

                alert('Settings saved successfully!');
            });
        });
    </script>
    <br>
    <br>
</main>
    <nav class="bottom-nav">
        <a href="/" class="nav-item">
            <span class="tooltip">Home</span>
            üè†
        </a>
        <a href="/active" class="nav-item">
            <span class="tooltip">Search</span>
            üîç
        </a>
        <a href="/jace" class="nav-item">
            <span class="tooltip">Games</span>
            üéÆ
        </a>
        <a href="/Stream-Star/movies.html" class="nav-item">
            <span class="tooltip">Movies</span>
            üé¨
        </a>
        <a href="/Stream-Star/tv.html" class="nav-item">
            <span class="tooltip">TV</span>
            üì∫
        </a>
        <a href="/chatti.html" class="nav-item">
            <span class="tooltip">AI</span>
            ü§ñ
        </a>
         <a href="/settings.html" class="nav-item">
            <span class="tooltip">Settings</span>
            ‚öô
        </a>
    </nav>
    
    <link rel="stylesheet" href="/style.css">
    <script src="/settings.js"></script>
</body>
</html>
