<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMDB ID Redirect</title>
</head>
<style> 
  @import url('https://fonts.googleapis.com/css2?family=Palanquin+Dark:wght@400;500;600;700&display=swap');
  html {
    background-color: black;
    color: white;
    cursor: cell;
    font-family: "Palanquin Dark", serif;
    font-weight: 400;
    font-style: normal;
  }
  a {
    color: white;
  }
</style>
<body>
    <form id="tmdbForm">
        <input type="text" id="tmdbId" name="tmdbId" placeholder="TMDB ID or URL" required>
        <input type="text" id="season" name="season" placeholder="Season #" required>
        <input type="text" id="episode" name="episode" placeholder="Episode #" required>
        <button type="submit">Submit</button>
    </form>
    
    <h2>How to get the TMDB Link</h2>
    <p>1. Find the movie or show on TMDB using the search below.<br>
       2. Copy the numerical ID from the URL (e.g., https://www.themoviedb.org/movie/123456 or https://www.themoviedb.org/tv/654321).<br>
       3. Paste it into the form above.</p>

    <script async src="https://cse.google.com/cse.js?cx=341c9c8e59fc54ccf"></script>
    <div class="gcse-search"></div>

    <script>
        document.getElementById('tmdbForm').addEventListener('submit', function(event) {
            event.preventDefault();
            let tmdbInput = document.getElementById('tmdbId').value;
            let tmdbId = tmdbInput;
            
            // Check if input is a TMDB URL
            let match = tmdbInput.match(/https?:\/\/www\.themoviedb\.org\/(movie|tv)\/(\d+)/);
            if (match) {
                tmdbId = match[2];
            }
            
            let season = document.getElementById('season').value;
            let episode = document.getElementById('episode').value;
            window.location.href = `stream/multi.html?TMDB=${tmdbId}&s=${season}&e=${episode}`;
        });
    </script>
</body>
</html>
